{% extends "base.html" %}
{% block content %}

<div class="container">
    <div class="wrap" style="margin-top: 60px">
        <form method="post" enctype="multipart/form-data">
            <label class="input-file">
                <input type="file" name="photo" accept="image/png,image/jpeg" onchange="changeFilename(this)">
                <span id="label">Загрузить изображение</span>
            </label>
            <input type="submit" value="Отправить">
        </form>

    </div>

    {% if filename != '' %}
    <div class="input-img">
        <img src="{{ filename }}">

        <div class="wrap">
            <div class="input-img-text">Диаграмма отображает суммарное число показателей, предсказанных для каждого
                лица.
                Если лиц много, то диаграмма является усреднением всех эмоций. Для единственного лица диаграмма
                отображает процентное распределение предсказаний нейросети
            </div>
            <div class="pie">
                <div>Angry</div>
                <div>Disgust</div>
                <div>Fear</div>
                <div>Happy</div>
                <div>Neutral</div>
                <div>Sad</div>
                <div>Surprise</div>

                <svg viewBox="0 0 40 40">
                    <g>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <circle r="15.9155" cx="50%" cy="50%"></circle>
                        <text x="50%" y="50%">18%</text>
                        <text x="50%" y="50%">12%</text>
                        <text x="50%" y="50%">9%</text>
                        <text x="50%" y="50%">16%</text>
                        <text x="50%" y="50%">10%</text>
                        <text x="50%" y="50%">10%</text>
                        <text x="50%" y="50%">25%</text>
                    </g>
                </svg>
            </div>
            <!--            <canvas width="500" height="500" id="canvas"></canvas>-->
            <!--            <script>-->
            <!--                // инициализация набора данных-->
            <!--                var data = [100, 68, 20, 30, 100];-->

            <!--                var canvas = document.getElementById('canvas');-->
            <!--                var c = canvas.getContext('2d');-->
            <!--                // рисуем фон-->
            <!--                c.fillStyle = "white";-->
            <!--                c.fillRect(0, 0, 500, 500);-->

            <!--                // список цветов-->
            <!--                var colors = ["orange", "green", "blue", "yellow", "teal", "pink", "black"];-->

            <!--                // вычисляем сумму всех данных-->
            <!--                var total = 0;-->
            <!--                for (var i = 0; i < data.length; i++) {-->
            <!--                    total += data[i];-->
            <!--                }-->
            <!--                // рисуем круговые данные-->
            <!--                var prevAngle = 0;-->
            <!--                for (var i = 0; i < data.length; i++) {-->
            <!--                    // доля, представленная сегментом-->
            <!--                    var fraction = data[i] / total;-->
            <!--                    // вычисляем начальный угол-->
            <!--                    var angle = prevAngle + fraction * Math.PI * 2;-->

            <!--                    // рисуем сегмент-->
            <!--                    c.fillStyle = colors[i];-->

            <!--                    // создаём контур-->
            <!--                    c.beginPath();-->
            <!--                    c.moveTo(250, 250);-->
            <!--                    c.arc(250, 250, 100, prevAngle, angle, false);-->
            <!--                    c.lineTo(250, 250);-->

            <!--                    // заливаем его-->
            <!--                    c.fill();-->

            <!--                    // обводим его-->
            <!--                    c.strokeStyle = "black";-->
            <!--                    c.stroke();-->

            <!--                    // обновляем для следующей итерации цикла-->
            <!--                    prevAngle = angle;-->
            <!--                }-->
            <!--                // рисуем текст по центру-->
            <!--                c.fillStyle = "black";-->
            <!--                c.font = "24pt sans-serif";-->
            <!--                var text = "Sales Data from 2025";-->
            <!--                var metrics = c.measureText(text);-->
            <!--                c.fillText(text, 250 - metrics.width / 2, 400);-->
            <!--            </script>-->
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}
